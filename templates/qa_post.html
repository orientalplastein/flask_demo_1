{% extends "universal_navbar.html" %}

{% block title %}忘书Echo-发布{% endblock %}

{% block head %}
    <link rel="stylesheet" href={{ url_for('static',filename='CSS/qa_post.css') }}>
    <script src="{{ url_for('static',filename="jquery/jquery-3.6.0.min.js") }}"></script>
{#    <link rel="stylesheet" href={{ url_for('static',filename='CSS/http_cdn.jsdelivr.net_npm_font-awesome@4.7.0_css_font-awesome.css') }}>#}
{#    <link rel="stylesheet" href={{ url_for('static',filename='CSS/http_cdnjs.cloudflare.com_ajax_libs_font-awesome_6.7.2_css_all.css') }}>#}
    <meta name="csrf-token" content="{{ csrf_token() }}">
{% endblock %}

{% block content %}
	<div class="container">
        <h1 class="page-title">
            <i class="fas fa-pen-alt title-icon"></i>拾光札记
        </h1>
            <p class="page-subtitle">—— 记取难 ⌈忘⌋ 时光， ⌈书⌋ 写生活札记</p>

        <form id="postForm" class="post-form">
            <div class="form-group">
                <label for="title" class="form-label">标题</label>
                <input type="text" id="title" name="title"
                       class="form-input"
                       placeholder="请输入帖子标题" maxlength="100" required>
                <p id="titleError" class="error-message">标题不能为空</p>
            </div>

            <div class="form-group">
                <label for="content" class="form-label">内容</label>
                <textarea id="content" name="content" rows="6"
                          class="form-input form-textarea"
                          placeholder="请输入帖子内容" required></textarea>
                <p id="contentError" class="error-message">内容不能为空</p>
            </div>

            <div class="form-group">
                <label class="form-label">上传图片</label>
                <div class="image-upload-container" id="imageUploadArea">
                    <div id="imagePreview" class="image-preview">
                        <img id="previewImage" class="preview-image" alt="" src="">
                        <button type="button" id="removeImage" class="remove-image">
                            <i class="fas fa-times"></i>移除图片
                        </button>
                    </div>
                    <div id="uploadPrompt" class="upload-prompt">
                        <i class="fas fa-cloud-upload-alt upload-icon"></i>
                        <p class="upload-text">点击或拖拽图片到此处上传</p>
                        <p class="upload-hint">支持JPG/PNG格式，最大5MB</p>
                        <input type="file" id="imageInput" name="image" accept="image/jpeg,image/png" class="image-input">
                    </div>
                </div>
                <p id="imageError" class="error-message">请上传有效的图片文件</p>
            </div>

            <div class="button-group">
                <button type="submit" class="submit-button"><i class="fas fa-paper-plane"></i>保存札记</button>
{#                <a href="#" type="submit" class="submit-button"><i class="fas fa-hand-sparkles"></i> AI 帮写</a>#}
                <button type="button" id="aiWriteBtn" class="submit-button"><i class="fas fa-hand-sparkles"></i> AI 帮写</button>
{#                <button type="submit" class="submit-button"><i class="fas fa-hand-sparkles"></i> AI 帮写</button>#}
            </div>
        </form>

        <div id="submitFeedback" class="submit-feedback"></div>
    </div>
{% endblock %}

{% block scripts %}
    <script src={{ url_for('static',filename='JS/qa_post.js') }}></script>
{% endblock %}
